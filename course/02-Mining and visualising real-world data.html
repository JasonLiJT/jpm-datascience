<!DOCTYPE html>
<!-- saved from url=(0057)http://beta.cambridgespark.com/courses/jpm/02-module.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.4">
<title>Mining and visualising real-world data</title>
<link rel="stylesheet" href="./02-Mining and visualising real-world data_files/css">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
body{-webkit-font-smoothing:antialiased}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
body{tab-size:4}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 5px 0px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -khtml-border-radius: 5px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 1px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: .7em}
.MathJax_MenuRadioCheck.RTL {right: .7em; left: auto}
.MathJax_MenuLabel {padding: 1px 2em 3px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #DDDDDD; margin: 4px 3px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: #606872; color: white}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style><style type="text/css">.MathJax_Display {text-align: center; margin: 1em 0em; position: relative; display: block!important; text-indent: 0; max-width: none; max-height: none; min-width: 0; min-height: 0; width: 100%}
.MathJax .merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MathJax .MJX-monospace {font-family: monospace}
.MathJax .MJX-sans-serif {font-family: sans-serif}
#MathJax_Tooltip {background-color: InfoBackground; color: InfoText; border: 1px solid black; box-shadow: 2px 2px 5px #AAAAAA; -webkit-box-shadow: 2px 2px 5px #AAAAAA; -moz-box-shadow: 2px 2px 5px #AAAAAA; -khtml-box-shadow: 2px 2px 5px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true'); padding: 3px 4px; z-index: 401; position: absolute; left: 0; top: 0; width: auto; height: auto; display: none}
.MathJax {display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 100%; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; padding: 0; margin: 0}
.MathJax:focus, body :focus .MathJax {display: inline-table}
.MathJax img, .MathJax nobr, .MathJax a {border: 0; padding: 0; margin: 0; max-width: none; max-height: none; min-width: 0; min-height: 0; vertical-align: 0; line-height: normal; text-decoration: none}
img.MathJax_strut {border: 0!important; padding: 0!important; margin: 0!important; vertical-align: 0!important}
.MathJax span {display: inline; position: static; border: 0; padding: 0; margin: 0; vertical-align: 0; line-height: normal; text-decoration: none}
.MathJax nobr {white-space: nowrap!important}
.MathJax img {display: inline!important; float: none!important}
.MathJax * {transition: none; -webkit-transition: none; -moz-transition: none; -ms-transition: none; -o-transition: none}
.MathJax_Processing {visibility: hidden; position: fixed; width: 0; height: 0; overflow: hidden}
.MathJax_Processed {display: none!important}
.MathJax_ExBox {display: block!important; overflow: hidden; width: 1px; height: 60ex; min-height: 0; max-height: none}
.MathJax .MathJax_EmBox {display: block!important; overflow: hidden; width: 1px; height: 60em; min-height: 0; max-height: none}
.MathJax .MathJax_HitBox {cursor: text; background: white; opacity: 0; filter: alpha(opacity=0)}
.MathJax .MathJax_HitBox * {filter: none; opacity: 1; background: transparent}
#MathJax_Tooltip * {filter: none; opacity: 1; background: transparent}
@font-face {font-family: MathJax_Blank; src: url('about:blank')}
.MathJax .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style></head>
<body id="module2" class="article"><div style="visibility: hidden; overflow: hidden; position: absolute; top: 0px; height: 1px; width: auto; padding: 0px; border: 0px; margin: 0px; text-align: left; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal;"><div id="MathJax_Hidden"></div></div><div id="MathJax_Message" style="display: none;"></div>
<div id="header">
<h1>Mining and visualising real-world data</h1>
</div>
<div id="content">
<div class="sect1">
<h2 id="_about_this_module">About this module</h2>
<div class="sectionbody">
<div class="paragraph">
<p>An important part of Machine Learning is being able to manipulate and “get a feel for” the data. This is an extremely critical step in any data analysis process as it aims to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>maximise the insight into the dataset and summarise its main characteristics</p>
</li>
<li>
<p>detect mistakes, missing values, outliers and anomalies</p>
</li>
<li>
<p>determine relationships among the input (explanatory) variables</p>
</li>
<li>
<p>uncover underlying structure and patterns</p>
</li>
<li>
<p>boost the data quality and avoid "garbage-in, garbage-out"</p>
</li>
<li>
<p>provide the basis and support the selection of appropriate Machine Learning tools to be applied</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In this module, you will be introduced to the rich set of Python-based tools for data manipulation and visualisation.
You will be using data from a publicly available case study using an external file (<code>retail_data.csv</code>), which you will need to load and pre-process before you can apply any Machine Learning algorithms.
In this module you will learn how to do this. You will also learn how to further explore and interpret your data through simple measures and plotting.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_case_study">Case Study</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The dataset we will be using throughout today’s workshop is an <em>aggregated and adapted version</em> of the <a href="https://archive.ics.uci.edu/ml/datasets/Online+Retail"><strong>Online Retail Case Study</strong></a> from the UCI Machine Learning repository,
which is a great source for publicly available real-world data for Machine Learning purposes.
The dataset has been designed for this workshop with the purpose of modelling the behaviour of customers ("returning" vs. "non-returning" customers) based on their transaction activity (such as balance, max spent and number of orders, among others).</p>
</div>
<div id="mod2_dataset_preview" class="imageblock" style="text-align: center">
<div class="content">
<img src="./02-Mining and visualising real-world data_files/mod2_dataset_preview.png" alt="mod2_dataset_preview">
</div>
<div class="title">Figure 1. Preview of the online retail dataset. A description of the columns of this table can be found in <code>data/features_description.md</code>.</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Quiz: Problem and data understanding</div>
<div class="paragraph">
<p>Before we can even think about classification, it is vital to first understand the problem under study, define a clear Machine Learning objective and identify possible features that might be useful to take into account.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>What is the ML problem we will address?</p>
</li>
<li>
<p>What are the observations (samples)?</p>
</li>
<li>
<p>What are the features (attributes)?</p>
</li>
<li>
<p>What is the <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-1-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1" role="math" style="width: 0.557em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.456em; height: 0px; font-size: 124%;"><span style="position: absolute; clip: rect(1.918em 1000.46em 2.876em -999.997em); top: -2.518em; left: 0.003em;"><span class="mrow" id="MathJax-Span-2"><span class="mi" id="MathJax-Span-3" style="font-family: STIXGeneral-Italic;">y</span></span><span style="display: inline-block; width: 0px; height: 2.523em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi></math></span></span><script type="math/tex" id="MathJax-Element-1">y</script> (target/response/class) variable?</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Answer:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>In this case, the classification consists of modelling returning versus non-returning customers.</p>
</li>
<li>
<p>The observations are the independent customers.</p>
</li>
<li>
<p>The features are relevant to the activity of the customers (<code>balance</code>, <code>max_spent</code>, <code>n_orders</code>, etc.).</p>
</li>
<li>
<p>The target variable or class highlights whether the customer is returning or not ("yes" vs. "no").</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2 activity">
<h3 id="_loading_the_python_libraries">Loading the Python libraries</h3>
<div class="paragraph">
<p>The libraries we will be using throughout the day for our hands-on activities include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>pandas</code>: for high-performance, easy-to-use data structures and data analysis functions.</p>
</li>
<li>
<p><code>scipy</code>: for routines such as numerical integration and optimisation.</p>
</li>
<li>
<p><code>numpy</code> (NumPy): for its array data structure and data manipulation functions.</p>
</li>
<li>
<p><code>plotly</code>: graphing library for interactive, publication-quality graphs.</p>
</li>
<li>
<p><code>sklearn</code> (scikit-learn): for Machine Learning and model evaluation functions.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Start by opening the provided file <code>jpm-vanilla.ipynb</code>. At the very top of the file, you should see all the various import statements we will be using throughout today’s workshop. These tell the Python interpreter (the engine that runs the program) that these libraries are required for the program to run. In this case:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight prettyprinted"><code class="language-python" data-lang="python"><span class="com"># compatibility with python2 and 3</span><span class="pln">
</span><span class="kwd">from</span><span class="pln"> __future__ </span><span class="kwd">import</span><span class="pln"> print_function</span><span class="pun">,</span><span class="pln"> division

</span><span class="com"># numerical capacity</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> scipy </span><span class="kwd">as</span><span class="pln"> scipy
</span><span class="kwd">import</span><span class="pln"> numpy </span><span class="kwd">as</span><span class="pln"> np
</span><span class="kwd">import</span><span class="pln"> pandas </span><span class="kwd">as</span><span class="pln"> pd

</span><span class="com"># matplotlib setup</span><span class="pln">
</span><span class="pun">%</span><span class="pln">matplotlib inline
</span><span class="kwd">import</span><span class="pln"> matplotlib</span><span class="pun">.</span><span class="pln">pylab </span><span class="kwd">as</span><span class="pln"> plt
</span><span class="kwd">import</span><span class="pln"> seaborn </span><span class="kwd">as</span><span class="pln"> sns

</span><span class="com"># plotly setup</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> plotly</span><span class="pun">.</span><span class="pln">plotly </span><span class="kwd">as</span><span class="pln"> py
</span><span class="kwd">from</span><span class="pln"> plotly</span><span class="pun">.</span><span class="pln">graph_objs </span><span class="kwd">import</span><span class="pln"> </span><span class="pun">*</span><span class="pln">
</span><span class="kwd">from</span><span class="pln"> plotly</span><span class="pun">.</span><span class="pln">tools </span><span class="kwd">import</span><span class="pln"> </span><span class="typ">FigureFactory</span><span class="pln"> </span><span class="kwd">as</span><span class="pln"> FF
</span><span class="kwd">from</span><span class="pln"> plotly</span><span class="pun">.</span><span class="pln">offline </span><span class="kwd">import</span><span class="pln"> download_plotlyjs</span><span class="pun">,</span><span class="pln"> init_notebook_mode</span><span class="pun">,</span><span class="pln"> iplot
init_notebook_mode</span><span class="pun">()</span><span class="pln"> </span><b class="conum"><span class="pun">(</span><span class="lit">2</span><span class="pun">)</span></b><span class="pln">

</span><span class="com"># extra tools</span><span class="pln">
</span><span class="kwd">from</span><span class="pln"> mpl_toolkits</span><span class="pun">.</span><span class="pln">mplot3d</span><span class="pun">.</span><span class="pln">axes3d </span><span class="kwd">import</span><span class="pln"> </span><span class="typ">Axes3D</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> visplots </span><b class="conum"><span class="pun">(</span><span class="lit">1</span><span class="pun">)</span></b><span class="pln">

</span><span class="com"># the tools we will use from SKLEARN</span><span class="pln">

</span><span class="com"># GENERAL SKLEARN TOOLS</span><span class="pln">
</span><span class="kwd">from</span><span class="pln"> sklearn </span><span class="kwd">import</span><span class="pln"> preprocessing</span><span class="pun">,</span><span class="pln"> metrics
</span><span class="kwd">from</span><span class="pln"> sklearn</span><span class="pun">.</span><span class="pln">cross_validation </span><span class="kwd">import</span><span class="pln"> train_test_split
</span><span class="kwd">from</span><span class="pln"> sklearn</span><span class="pun">.</span><span class="pln">grid_search </span><span class="kwd">import</span><span class="pln"> </span><span class="typ">GridSearchCV</span><span class="pln">

</span><span class="com"># UNSUPERVISED LEARNING MODULE</span><span class="pln">
</span><span class="kwd">from</span><span class="pln"> sklearn</span><span class="pun">.</span><span class="pln">cluster </span><span class="kwd">import</span><span class="pln"> </span><span class="typ">KMeans</span><span class="pln">
</span><span class="kwd">from</span><span class="pln"> sklearn</span><span class="pun">.</span><span class="pln">metrics</span><span class="pun">.</span><span class="pln">cluster </span><span class="kwd">import</span><span class="pln"> silhouette_score

</span><span class="com"># DTS and RFS MODULE</span><span class="pln">
</span><span class="kwd">from</span><span class="pln"> sklearn</span><span class="pun">.</span><span class="pln">tree </span><span class="kwd">import</span><span class="pln"> </span><span class="typ">DecisionTreeClassifier</span><span class="pln">
</span><span class="kwd">from</span><span class="pln"> sklearn</span><span class="pun">.</span><span class="pln">ensemble </span><span class="kwd">import</span><span class="pln"> </span><span class="typ">RandomForestClassifier</span><span class="pln">

</span><span class="com"># SVM MODULE</span><span class="pln">
</span><span class="kwd">from</span><span class="pln"> sklearn</span><span class="pun">.</span><span class="pln">svm </span><span class="kwd">import</span><span class="pln"> SVC</span></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>The <code>visplots</code> library has been developed in-house, and provides additional plotting functionality for the visualisation of the classifiers' boundaries and their performance.</p>
</li>
<li>
<p>Run at the start of every IPython notebook to use <code>plotly.offline</code>. This injects the plotly.js source files into the notebook.</p>
</li>
</ol>
</div>
</div>
<div class="sect2 activity">
<h3 id="_importing_the_data">Importing the data</h3>
<div class="paragraph">
<p>As a first step we load the dataset from the provided <code>retail_data.csv</code> file with <code>pandas</code>. To achieve this you will use the <code>.read_csv()</code> method. We just need to point to the location of the dataset and indicate under what name we want to store the data, i.e. <code>retail</code>, and <code>pandas</code> will do the rest.</p>
</div>
<div class="paragraph">
<p>At a first stage, the data has only been loaded. Let’s have a look at the top few lines - we can use the <code>.head()</code> method to achieve this.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight prettyprinted"><code class="language-python" data-lang="python"><span class="com"># Import the data and explore the first few rows</span><span class="pln">

retail </span><span class="pun">=</span><span class="pln"> pd</span><span class="pun">.</span><span class="pln">read_csv</span><span class="pun">(</span><span class="str">'data/retail_data.csv'</span><span class="pun">,</span><span class="pln"> index_col</span><span class="pun">=</span><span class="str">'CustomerID'</span><span class="pun">)</span><span class="pln">
header </span><span class="pun">=</span><span class="pln"> retail</span><span class="pun">.</span><span class="pln">columns</span><span class="pun">.</span><span class="pln">values
retail</span><span class="pun">.</span><span class="pln">head</span><span class="pun">()</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Before you can feed data into a Machine Learning algorithm, you first need to convert the imported DataFrame into a <code>numpy</code> array.
It is also good practice to <em>always</em> check the dimensionality of the input data using the <code>shape</code> command to confirm that you really have imported all the data in the correct way (e.g. one common mistake is to get the separator wrong and end up with only one column).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight prettyprinted"><code class="language-python" data-lang="python"><span class="com"># Convert to numpy array and check the dimensionality</span><span class="pln">

npArray </span><span class="pun">=</span><span class="pln"> np</span><span class="pun">.</span><span class="pln">array</span><span class="pun">(</span><span class="pln">retail</span><span class="pun">)</span><span class="pln">
</span><span class="kwd">print</span><span class="pun">(</span><span class="pln">retail</span><span class="pun">.</span><span class="pln">shape</span><span class="pun">)</span><span class="pln">
</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">(</span><span class="lit">1998</span><span class="pun">,</span><span class="pln"> </span><span class="lit">11</span><span class="pun">)</span><span class="pln"> </span><b class="conum"><span class="pun">(</span><span class="lit">1</span><span class="pun">)</span></b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>These values tell us that our imported data consist of 1998 rows (samples) and 11 columns (features).</p>
</li>
</ol>
</div>
</div>
<div class="sect2 activity">
<h3 id="_split_the_data_into_input_features_x_and_outputs_y">Split the data into input features, X, and outputs, y</h3>
<div class="paragraph">
<p>The input features, <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-2-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;X&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-4" role="math" style="width: 0.856em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.667em; height: 0px; font-size: 124%;"><span style="position: absolute; clip: rect(1.758em 1000.67em 2.706em -999.998em); top: -2.559em; left: 0.002em;"><span class="mrow" id="MathJax-Span-5"><span class="mi" id="MathJax-Span-6" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.05em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.056em; border-left: 0px solid; width: 0px; height: 0.944em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>X</mi></math></span></span><script type="math/tex" id="MathJax-Element-2">X</script>,  are the variables that you use to predict the outcome.
In this dataset, there are ten input features stored in columns 1-10 (index 0-9, although the upper bound is not included so the range for indexing is 0:10), all of which have continuous values.
The output label, <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-3-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-7" role="math" style="width: 0.524em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.429em; height: 0px; font-size: 124%;"><span style="position: absolute; clip: rect(1.995em 1000.43em 2.896em -999.998em); top: -2.559em; left: 0.002em;"><span class="mrow" id="MathJax-Span-8"><span class="mi" id="MathJax-Span-9" style="font-family: STIXGeneral-Italic;">y</span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.291em; border-left: 0px solid; width: 0px; height: 0.944em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi></math></span></span><script type="math/tex" id="MathJax-Element-3">y</script>, holds the information of whether the customer has returned or not ("yes" vs. "no"), and is stored in the final (eleventh) column (index 10).
To split the data, we need to assign the columns of the input features and the columns of the output labels to different arrays:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight prettyprinted"><code class="language-python" data-lang="python"><span class="com"># Split to input matrix X and class vector y</span><span class="pln">

X </span><span class="pun">=</span><span class="pln"> npArray</span><span class="pun">[:,:-</span><span class="lit">1</span><span class="pun">].</span><span class="pln">astype</span><span class="pun">(</span><span class="pln">float</span><span class="pun">)</span><span class="pln"> </span><b class="conum"><span class="pun">(</span><span class="lit">1</span><span class="pun">)</span></b><span class="pln">
y </span><span class="pun">=</span><span class="pln"> npArray</span><span class="pun">[:,-</span><span class="lit">1</span><span class="pun">]</span></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>To use the values in <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-4-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;X&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-10" role="math" style="width: 0.856em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.667em; height: 0px; font-size: 124%;"><span style="position: absolute; clip: rect(1.758em 1000.67em 2.706em -999.998em); top: -2.559em; left: 0.002em;"><span class="mrow" id="MathJax-Span-11"><span class="mi" id="MathJax-Span-12" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.05em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.056em; border-left: 0px solid; width: 0px; height: 0.944em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>X</mi></math></span></span><script type="math/tex" id="MathJax-Element-4">X</script> as continuous (floating point) values, we need to explicitly convert or “cast” them into the float data type (which is Python’s data type for representing continuous numerical values).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Try printing the size of the input matrix <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-5-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;X&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-13" role="math" style="width: 0.856em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.667em; height: 0px; font-size: 124%;"><span style="position: absolute; clip: rect(1.758em 1000.67em 2.706em -999.998em); top: -2.559em; left: 0.002em;"><span class="mrow" id="MathJax-Span-14"><span class="mi" id="MathJax-Span-15" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.05em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.056em; border-left: 0px solid; width: 0px; height: 0.944em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>X</mi></math></span></span><script type="math/tex" id="MathJax-Element-5">X</script> and class vector <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-6-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-16" role="math" style="width: 0.524em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.429em; height: 0px; font-size: 124%;"><span style="position: absolute; clip: rect(1.995em 1000.43em 2.896em -999.998em); top: -2.559em; left: 0.002em;"><span class="mrow" id="MathJax-Span-17"><span class="mi" id="MathJax-Span-18" style="font-family: STIXGeneral-Italic;">y</span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.291em; border-left: 0px solid; width: 0px; height: 0.944em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi></math></span></span><script type="math/tex" id="MathJax-Element-6">y</script> using the <code>shape</code> function:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight prettyprinted"><code class="language-python" data-lang="python"><span class="com"># Print the dimensions of X and y</span><span class="pln">

</span><span class="kwd">print</span><span class="pun">(</span><span class="str">"X dimensions:"</span><span class="pun">,</span><span class="pln"> X</span><span class="pun">.</span><span class="pln">shape</span><span class="pun">)</span><span class="pln">
</span><span class="pun">&gt;</span><span class="pln"> X dimensions</span><span class="pun">:</span><span class="pln"> </span><span class="pun">(</span><span class="lit">1998</span><span class="pun">,</span><span class="pln"> </span><span class="lit">10</span><span class="pun">)</span><span class="pln">

</span><span class="kwd">print</span><span class="pun">(</span><span class="str">"y dimensions:"</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">.</span><span class="pln">shape</span><span class="pun">)</span><span class="pln">
</span><span class="pun">&gt;</span><span class="pln"> y dimensions</span><span class="pun">:</span><span class="pln"> </span><span class="pun">(</span><span class="lit">1998</span><span class="pun">,)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>These tell us that <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-7-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;X&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-19" role="math" style="width: 0.856em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.667em; height: 0px; font-size: 124%;"><span style="position: absolute; clip: rect(1.758em 1000.67em 2.706em -999.998em); top: -2.559em; left: 0.002em;"><span class="mrow" id="MathJax-Span-20"><span class="mi" id="MathJax-Span-21" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.05em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.056em; border-left: 0px solid; width: 0px; height: 0.944em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>X</mi></math></span></span><script type="math/tex" id="MathJax-Element-7">X</script> is a 2-dimensional array (matrix) with 1998 rows and 10 columns,
while <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-8-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-22" role="math" style="width: 0.524em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.429em; height: 0px; font-size: 124%;"><span style="position: absolute; clip: rect(1.995em 1000.43em 2.896em -999.998em); top: -2.559em; left: 0.002em;"><span class="mrow" id="MathJax-Span-23"><span class="mi" id="MathJax-Span-24" style="font-family: STIXGeneral-Italic;">y</span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.291em; border-left: 0px solid; width: 0px; height: 0.944em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi></math></span></span><script type="math/tex" id="MathJax-Element-8">y</script> is a 1-dimensional array (vector) with 1998 elements.
Also, based on the class vector <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-9-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-25" role="math" style="width: 0.524em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.429em; height: 0px; font-size: 124%;"><span style="position: absolute; clip: rect(1.995em 1000.43em 2.896em -999.998em); top: -2.559em; left: 0.002em;"><span class="mrow" id="MathJax-Span-26"><span class="mi" id="MathJax-Span-27" style="font-family: STIXGeneral-Italic;">y</span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.291em; border-left: 0px solid; width: 0px; height: 0.944em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi></math></span></span><script type="math/tex" id="MathJax-Element-9">y</script>, the customers are classified into two distinct categories: "yes" for returning customers and "no" for non-returning customers.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_exploratory_data_analysis">Exploratory Data Analysis</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Visualisation is an integral part of Data Science. <a id="Exploratory_Data_Analysis"></a>Exploratory data analysis (EDA) is the field dealing with the analysis of data sets as a means of summarising their main characteristics, most often using visual methods.</p>
</div>
<div class="paragraph">
<p><a href="https://plot.ly/">Plotly</a> is an online collaborative data analysis and graphing tool that we will use in order to construct fully interactive graphs. The Plotly API allows you to access all of the library’s interactive functionality directly from Python (or other programming languages such as R, JavaScript and MATLAB, among others). Crucially, Plotly has recently been made <a href="https://plot.ly/javascript/open-source-announcement/">open-source</a>, which now enables plotting without requiring access to their API. <a href="https://plot.ly/python/offline/">Plotly Offline</a> brings interactive Plotly graphs to the offline Jupyter (IPython) Notebook environment.</p>
</div>
<div class="sect2 activity">
<h3 id="_investigate_the_y_frequencies">Investigate the y frequencies</h3>
<div class="paragraph">
<p>An important aspect to understand before applying any classification algorithms is how the output labels are distributed. Are they evenly distributed, or is one (or some, in cases where the outcome is not just binary) of them rarer than the other(s)?</p>
</div>
<div class="paragraph">
<p>Imbalances in distribution of labels (classes) is a frequent problem when working with real-world data, and it can often lead to poor classification results for the minority class even if the classification results for the majority class are very good. This is something to bear in mind when evaluating the performance of a model, since for imbalanced class distributions, the overall accuracy can be high even when the model performs very poorly when classifying the minority class. In order to investigate the class frequency, we will use the <code>itemfreq()</code> function as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight prettyprinted"><code class="language-python" data-lang="python"><span class="com"># Print the y frequencies</span><span class="pln">

yFreq </span><span class="pun">=</span><span class="pln"> scipy</span><span class="pun">.</span><span class="pln">stats</span><span class="pun">.</span><span class="pln">itemfreq</span><span class="pun">(</span><span class="pln">y</span><span class="pun">)</span><span class="pln">
</span><span class="kwd">print</span><span class="pun">(</span><span class="pln">yFreq</span><span class="pun">)</span><span class="pln">
</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">[[</span><span class="str">'no'</span><span class="pln">  </span><span class="lit">260</span><span class="pun">]</span><span class="pln">
   </span><span class="pun">[</span><span class="str">'yes'</span><span class="pln"> </span><span class="lit">1738</span><span class="pun">]]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In our current dataset, you can see that the <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-10-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-28" role="math" style="width: 0.524em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.429em; height: 0px; font-size: 124%;"><span style="position: absolute; clip: rect(1.995em 1000.43em 2.896em -999.998em); top: -2.559em; left: 0.002em;"><span class="mrow" id="MathJax-Span-29"><span class="mi" id="MathJax-Span-30" style="font-family: STIXGeneral-Italic;">y</span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.291em; border-left: 0px solid; width: 0px; height: 0.944em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi></math></span></span><script type="math/tex" id="MathJax-Element-10">y</script> values are categorical
(i.e. they can only take one of a discrete set of values) and have a non-numeric representation, "yes" or "no".
This can be problematic for scikit-learn and plotting functions in Python, since they assume numerical values, so we need to map the text categories to numerical representations using <code>LabelEncoder</code>  and the <code>fit_transform</code> function from the <code>preprocessing</code> module:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight prettyprinted"><code class="language-python" data-lang="python"><span class="com"># Convert the categorical to numeric values, and print the y frequencies</span><span class="pln">

le </span><span class="pun">=</span><span class="pln"> preprocessing</span><span class="pun">.</span><span class="typ">LabelEncoder</span><span class="pun">()</span><span class="pln">
y </span><span class="pun">=</span><span class="pln"> le</span><span class="pun">.</span><span class="pln">fit_transform</span><span class="pun">(</span><span class="pln">y</span><span class="pun">)</span><span class="pln">

yFreq </span><span class="pun">=</span><span class="pln"> scipy</span><span class="pun">.</span><span class="pln">stats</span><span class="pun">.</span><span class="pln">itemfreq</span><span class="pun">(</span><span class="pln">y</span><span class="pun">)</span><span class="pln">
</span><span class="kwd">print</span><span class="pun">(</span><span class="pln">yFreq</span><span class="pun">)</span><span class="pln">
</span><span class="pun">&gt;[[</span><span class="pln"> </span><span class="lit">0</span><span class="pln">  </span><span class="lit">260</span><span class="pun">]</span><span class="pln">
  </span><span class="pun">[</span><span class="pln"> </span><span class="lit">1</span><span class="pln">  </span><span class="lit">1738</span><span class="pun">]]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Visualising the data in some way is a good way to get a feel for how the data is distributed. As a simple example, try plotting the frequencies of the output labels, 1 and 0,
to see how they are distributed using the <code>Bar</code> graphical object (trace) from Plotly.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight prettyprinted"><code class="language-python" data-lang="python"><span class="com"># Display the y frequencies in a barplot with Plotly</span><span class="pln">

</span><span class="com"># (1) Create the Data object</span><span class="pln">
data </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">Bar</span><span class="pun">(</span><span class="pln">
        x</span><span class="pun">=[</span><span class="str">'Non-returning customers'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'Returning customers'</span><span class="pun">],</span><span class="pln">
        y</span><span class="pun">=[</span><span class="pln">yFreq</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">1</span><span class="pun">],</span><span class="pln"> yFreq</span><span class="pun">[</span><span class="lit">1</span><span class="pun">][</span><span class="lit">1</span><span class="pun">]],</span><span class="pln">
        marker</span><span class="pun">=</span><span class="pln">dict</span><span class="pun">(</span><span class="pln">color</span><span class="pun">=[</span><span class="str">'blue'</span><span class="pun">,</span><span class="str">'orange'</span><span class="pun">])</span><span class="pln">
    </span><span class="pun">)</span><span class="pln">
</span><span class="pun">]</span><span class="pln">

</span><span class="com"># (2) Create a Layout object</span><span class="pln">
layout </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Layout</span><span class="pun">(</span><span class="pln">
    xaxis</span><span class="pun">=</span><span class="pln">dict</span><span class="pun">(</span><span class="pln">title </span><span class="pun">=</span><span class="pln"> </span><span class="str">"Class"</span><span class="pun">),</span><span class="pln">
    yaxis</span><span class="pun">=</span><span class="pln">dict</span><span class="pun">(</span><span class="pln">title </span><span class="pun">=</span><span class="pln"> </span><span class="str">"Count"</span><span class="pun">),</span><span class="pln">
    width</span><span class="pun">=</span><span class="lit">500</span><span class="pln">
</span><span class="pun">)</span><span class="pln">

</span><span class="com"># (3) Create a Figure object</span><span class="pln">
fig </span><span class="pun">=</span><span class="pln"> dict</span><span class="pun">(</span><span class="pln">data</span><span class="pun">=</span><span class="pln">data</span><span class="pun">,</span><span class="pln"> layout</span><span class="pun">=</span><span class="pln">layout</span><span class="pun">)</span><span class="pln">

</span><span class="com"># (4) Plot</span><span class="pln">
iplot</span><span class="pun">(</span><span class="pln">fig</span><span class="pun">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In general, the Plotly syntax consists of 4 main steps:</p>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Creating the Data object. The Data object may contain one or more graphical objects such as Scatter, Box and Bar, often referred to as <strong>"traces"</strong>. Data is in a list-like format, therefore we must use square bracket notation "[ ]"</p>
</li>
<li>
<p>Creating a Layout object. Layouts and most of their individual arguments (such as the xaxis and yaxis) are in <code>dict</code> formats.</p>
</li>
<li>
<p>Creating a Figure object. This is the step where we are combining the Data with the Layout.</p>
</li>
<li>
<p>Finally using the <code>iplot</code> command to plot <strong>offline</strong> with Plotly.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The code above gives you the following bar chart:</p>
</div>
<div id="mod2_barplot" class="imageblock" style="text-align: center">
<div class="content">
<img src="./02-Mining and visualising real-world data_files/mod2_plotly_barplot.png" alt="mod2_barplot" width="370">
</div>
<div class="title">Figure 2. Bar chart showing frequencies of returning (class "1") and non-returning (class "0") customers.</div>
</div>
<div class="paragraph">
<p>More examples on Plotly barplots can be found at <a href="https://plot.ly/python/bar-charts/" class="bare">https://plot.ly/python/bar-charts/</a>. In addition, a full list of arguments on barplots can be found at <a href="https://plot.ly/python/reference/#bar/" class="bare">https://plot.ly/python/reference/#bar/</a>.</p>
</div>
</div>
<div class="sect2 activity">
<h3 id="_data_scaling">Data scaling</h3>
<div class="paragraph">
<p>To avoid attributes with greater numeric ranges dominating those with smaller numeric ranges, it is usually advisable to scale your data prior to fitting a classification model. Feature scaling is generally performed as part of the <a id="Data_pre-processing"></a>data pre-processing.</p>
</div>
<div class="paragraph">
<p>In order to investigate the range and descriptive statistics of our features, we can apply the <code>describe()</code> function from <code>pandas</code> to the original <code>retail</code> DataFrame (<em>not</em> the numpy array!). For instance:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight prettyprinted"><code class="language-python" data-lang="python"><span class="pln">retail</span><span class="pun">.</span><span class="pln">describe</span><span class="pun">()</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The output of this function would result in the following table:</p>
</div>
<div id="mod2_dataset_describe" class="imageblock" style="text-align: center">
<div class="content">
<img src="./02-Mining and visualising real-world data_files/mod2_dataset_describe.png" alt="mod2_dataset_describe">
</div>
<div class="title">Figure 3. Descriptive statistics for each feature in the online retail dataset.</div>
</div>
<div class="paragraph">
<p>Despite the informative table we have just presented, visual aids are always preferable as they enhance the interpretability of the actual findings. Boxplots are commonly used in order to investigate the differences in ranges of the input features. Boxplots are a standardised way of displaying the distribution of the data based on the "five number summary" (minimum, first quartile, median, third quartile, and maximum). At this stage, let us start by constructing a boxplot using the raw data:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight prettyprinted"><code class="language-python" data-lang="python"><span class="com"># Create a boxplot of the raw data</span><span class="pln">

nrow</span><span class="pun">,</span><span class="pln"> ncol </span><span class="pun">=</span><span class="pln"> X</span><span class="pun">.</span><span class="pln">shape

data </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">Box</span><span class="pun">(</span><span class="pln">
        y</span><span class="pun">=</span><span class="pln">X</span><span class="pun">[:,</span><span class="pln">i</span><span class="pun">],</span><span class="pln">        </span><span class="com"># values to be used for box plot</span><span class="pln">
        name</span><span class="pun">=</span><span class="pln">header</span><span class="pun">[</span><span class="pln">i</span><span class="pun">],</span><span class="pln">  </span><span class="com"># label (on hover and x-axis)</span><span class="pln">
        marker</span><span class="pun">=</span><span class="pln">dict</span><span class="pun">(</span><span class="pln">color </span><span class="pun">=</span><span class="pln"> </span><span class="str">"purple"</span><span class="pun">),</span><span class="pln">
    </span><span class="pun">)</span><span class="pln"> </span><span class="kwd">for</span><span class="pln"> i </span><span class="kwd">in</span><span class="pln"> range</span><span class="pun">(</span><span class="pln">ncol</span><span class="pun">)</span><span class="pln">
</span><span class="pun">]</span><span class="pln">

layout </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Layout</span><span class="pun">(</span><span class="pln">
    xaxis</span><span class="pun">=</span><span class="pln">dict</span><span class="pun">(</span><span class="pln">title</span><span class="pun">=</span><span class="str">"Feature"</span><span class="pun">),</span><span class="pln">
    yaxis</span><span class="pun">=</span><span class="pln">dict</span><span class="pun">(</span><span class="pln">title</span><span class="pun">=</span><span class="str">"Value"</span><span class="pun">),</span><span class="pln">
    showlegend</span><span class="pun">=</span><span class="kwd">False</span><span class="pun">,</span><span class="pln">
</span><span class="pun">)</span><span class="pln">

fig </span><span class="pun">=</span><span class="pln"> dict</span><span class="pun">(</span><span class="pln">data</span><span class="pun">=</span><span class="pln">data</span><span class="pun">,</span><span class="pln"> layout</span><span class="pun">=</span><span class="pln">layout</span><span class="pun">)</span><span class="pln">

iplot</span><span class="pun">(</span><span class="pln">fig</span><span class="pun">)</span></code></pre>
</div>
</div>
<div id="mod2_boxSimple" class="imageblock" style="text-align: center">
<div class="content">
<img src="./02-Mining and visualising real-world data_files/mod2_plotly_boxSimple.png" alt="boxSimple">
</div>
<div class="title">Figure 4. Boxplot highlighting the different feature ranges of the raw data.</div>
</div>
<div class="paragraph">
<p>There are many ways of scaling but the most common scaling mechanism is auto-scaling, where for each column, the values are centred around the mean and divided by their standard deviation. This scaling mechanism can be applied by calling the scale() function from scikit-learn’s preprocessing module.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight prettyprinted"><code class="language-python" data-lang="python"><span class="com"># Auto-scale the data</span><span class="pln">

X </span><span class="pun">=</span><span class="pln"> preprocessing</span><span class="pun">.</span><span class="pln">scale</span><span class="pun">(</span><span class="pln">X</span><span class="pun">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The outcome of the scaling can be once more represented in a boxplot using exactly the previous plotting script:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight prettyprinted"><code class="language-python" data-lang="python"><span class="com"># Create a boxplot of the scaled data (simple or enhanced)</span><span class="pln">

</span><span class="com">#### WRITE YOUR CODE HERE ####</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If you feel more adventurous, you can visit <a href="https://plot.ly/python/box-plots/" class="bare">https://plot.ly/python/box-plots/</a> to find more Plotly examples (also <a href="https://plot.ly/python/reference/#box">arguments</a>) and create even more advanced boxplots such as the following:</p>
</div>
<div id="module2_boxScaled" class="imageblock" style="text-align: center">
<div class="content">
<img src="./02-Mining and visualising real-world data_files/mod2_plotly_boxScaled.png" alt="boxScaled">
</div>
<div class="title">Figure 5. Boxplot showing the scaled (pre-processed) data.</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Transformations on the data</div>
<div class="paragraph">
<p>Scaling is only one of the transformations that can be applied. You can find more on transforming data (including scaling) and pre-processing data on sklearn’s preprocessing documentation page (<a href="http://scikit-learn.org/stable/modules/preprocessing.html" class="bare">http://scikit-learn.org/stable/modules/preprocessing.html</a>)</p>
</div>
</div>
</div>
</div>
<div class="sect2 activity">
<h3 id="_investigate_the_relationship_between_input_features">Investigate the relationship between input features</h3>
<div class="paragraph">
<p>To visualise the relationship between two features (such as balance and max_spent),
the most basic plot is the scatter plot. Try plotting the first two variables against
each other. You can also relate associations between features to their <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-11-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-31" role="math" style="width: 0.524em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.429em; height: 0px; font-size: 124%;"><span style="position: absolute; clip: rect(1.995em 1000.43em 2.896em -999.998em); top: -2.559em; left: 0.002em;"><span class="mrow" id="MathJax-Span-32"><span class="mi" id="MathJax-Span-33" style="font-family: STIXGeneral-Italic;">y</span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.291em; border-left: 0px solid; width: 0px; height: 0.944em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi></math></span></span><script type="math/tex" id="MathJax-Element-11">y</script>
classifications by making the colour of the points dependent on the corresponding <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-12-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-34" role="math" style="width: 0.524em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.429em; height: 0px; font-size: 124%;"><span style="position: absolute; clip: rect(1.995em 1000.43em 2.896em -999.998em); top: -2.559em; left: 0.002em;"><span class="mrow" id="MathJax-Span-35"><span class="mi" id="MathJax-Span-36" style="font-family: STIXGeneral-Italic;">y</span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.291em; border-left: 0px solid; width: 0px; height: 0.944em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi></math></span></span><script type="math/tex" id="MathJax-Element-12">y</script> value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight prettyprinted"><code class="language-python" data-lang="python"><span class="com"># Create an enhanced scatter plot of the first two features</span><span class="pln">

f1 </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pln">
f2 </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pln">

</span><span class="com"># Returning customers (class "1") represented with orange x</span><span class="pln">
trace1 </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Scatter</span><span class="pun">(</span><span class="pln">
    x</span><span class="pun">=</span><span class="pln">X</span><span class="pun">[</span><span class="pln">y </span><span class="pun">==</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> f1</span><span class="pun">],</span><span class="pln">
    y</span><span class="pun">=</span><span class="pln">X</span><span class="pun">[</span><span class="pln">y </span><span class="pun">==</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> f2</span><span class="pun">],</span><span class="pln">
    mode</span><span class="pun">=</span><span class="str">'markers'</span><span class="pun">,</span><span class="pln">
    name</span><span class="pun">=</span><span class="str">'Returning customers ("1")'</span><span class="pun">,</span><span class="pln">
    marker</span><span class="pun">=</span><span class="pln">dict</span><span class="pun">(</span><span class="pln">
        color</span><span class="pun">=</span><span class="str">'orange'</span><span class="pun">,</span><span class="pln">
        symbol</span><span class="pun">=</span><span class="str">'x'</span><span class="pln">
    </span><span class="pun">)</span><span class="pln">
</span><span class="pun">)</span><span class="pln">

</span><span class="com"># Non-returning customers (class "0") represented with blue circles</span><span class="pln">
trace2 </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Scatter</span><span class="pun">(</span><span class="pln">
    x</span><span class="pun">=</span><span class="pln">X</span><span class="pun">[</span><span class="pln">y </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> f1</span><span class="pun">],</span><span class="pln">
    y</span><span class="pun">=</span><span class="pln">X</span><span class="pun">[</span><span class="pln">y </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> f2</span><span class="pun">],</span><span class="pln">
    mode</span><span class="pun">=</span><span class="str">'markers'</span><span class="pun">,</span><span class="pln">
    name</span><span class="pun">=</span><span class="str">'Non-returning customers ("0")'</span><span class="pun">,</span><span class="pln">
    marker</span><span class="pun">=</span><span class="pln">dict</span><span class="pun">(</span><span class="pln">
        color</span><span class="pun">=</span><span class="str">'blue'</span><span class="pun">,</span><span class="pln">
        symbol</span><span class="pun">=</span><span class="str">'circle'</span><span class="pln">
    </span><span class="pun">)</span><span class="pln">
</span><span class="pun">)</span><span class="pln">

layout </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Layout</span><span class="pun">(</span><span class="pln">
    xaxis</span><span class="pun">=</span><span class="pln">dict</span><span class="pun">(</span><span class="pln">title</span><span class="pun">=</span><span class="pln">header</span><span class="pun">[</span><span class="pln">f1</span><span class="pun">]),</span><span class="pln">
    yaxis</span><span class="pun">=</span><span class="pln">dict</span><span class="pun">(</span><span class="pln">title</span><span class="pun">=</span><span class="pln">header</span><span class="pun">[</span><span class="pln">f2</span><span class="pun">]),</span><span class="pln">
    height</span><span class="pun">=</span><span class="pln"> </span><span class="lit">600</span><span class="pun">,</span><span class="pln">
</span><span class="pun">)</span><span class="pln">

fig </span><span class="pun">=</span><span class="pln"> dict</span><span class="pun">(</span><span class="pln">data</span><span class="pun">=[</span><span class="pln">trace1</span><span class="pun">,</span><span class="pln"> trace2</span><span class="pun">],</span><span class="pln"> layout</span><span class="pun">=</span><span class="pln">layout</span><span class="pun">)</span><span class="pln">

iplot</span><span class="pun">(</span><span class="pln">fig</span><span class="pun">)</span></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>f1 and f2 are used to specify the features that you wish to plot against each other.</p>
</li>
<li>
<p>Remember that we can concatenate more than one traces into a Data object using a <em>list</em> format ("[ ]"), whereas the Layout object is in a <em>dict</em> format.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The code gives us the following plot:</p>
</div>
<div id="mod2_scatterColor" class="imageblock" style="text-align: center">
<div class="content">
<img src="./02-Mining and visualising real-world data_files/mod2_plotly_scatter.png" alt="ColorScatter">
</div>
<div class="title">Figure 6. Scatter plot of a combination of features against each other with the colour and marker shape indicating whether the points are classified as returning or non-returning customers.</div>
</div>
<div class="paragraph">
<p>Examples of Plotly scatterplots can be found at <a href="https://plot.ly/python/line-and-scatter/" class="bare">https://plot.ly/python/line-and-scatter/</a> (or for a list of arguments refer to <a href="https://plot.ly/python/reference/#scatter/" class="bare">https://plot.ly/python/reference/#scatter/</a>).</p>
</div>
</div>
<div class="sect2 activity_bonus">
<h3 id="_try_plotting_different_combinations_of_three_features_in_the_same_plot">Try plotting different combinations of three features in the same plot.</h3>
<div class="paragraph">
<p>The scatterplots we have seen so far investigated the relationship between two variables (features).
A three-dimensional graph lets you introduce a third axis, typically called the <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-13-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;z&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-37" role="math" style="width: 0.477em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.382em; height: 0px; font-size: 124%;"><span style="position: absolute; clip: rect(1.995em 1000.38em 2.801em -999.998em); top: -2.559em; left: 0.002em;"><span class="mrow" id="MathJax-Span-38"><span class="mi" id="MathJax-Span-39" style="font-family: STIXGeneral-Italic;">z</span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.174em; border-left: 0px solid; width: 0px; height: 0.768em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>z</mi></math></span></span><script type="math/tex" id="MathJax-Element-13">z</script> axis, and can help you understand the relationship between three variables.
Plotly’s fully interactive functionality allows you to plot, hover, zoom and rotate 3-dimensional scatterplots.
For a full list of arguments on 3d plots in Plotly click <a href="https://plot.ly/python/reference/#scatter3d">here</a>. Other examples on 3D scatterplots using Plotly can be found at <a href="https://plot.ly/python/3d-scatter-plots/" class="bare">https://plot.ly/python/3d-scatter-plots/</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight prettyprinted"><code class="language-python" data-lang="python"><span class="com"># Hint: Investigate the Scatter3d object from Plotly</span><span class="pln">
</span><span class="com"># Axes in 3D Plotly plots work in little differently than in 2D:</span><span class="pln">
</span><span class="com"># axes are bound to a Scene object (use help(Scene)).</span><span class="pln">

</span><span class="com">#### WRITE YOUR CODE HERE ####</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>For instance, try to generate:</p>
</div>
<div id="mod2_3dScatter" class="imageblock" style="text-align: center">
<div class="content">
<img src="./02-Mining and visualising real-world data_files/mod2_plotly_3dScatter.png" alt="3dScatter" width="540">
</div>
<div class="title">Figure 7. Three-dimensional scatterplot. The colour highlights whether the points are classified as returning or non-returning customers like in the previous plot. In this case we look at the relationship between the features <code>mean_spent</code>, <code>balance</code> and <code>max_spent</code> at the same time.</div>
</div>
</div>
<div class="sect2 activity_bonus">
<h3 id="_try_different_combinations_of_f1_and_f2_in_a_grid_scatterplot_matrix_if_you_can">Try different combinations of f1 and f2 (in a grid/scatterplot matrix if you can).</h3>
<div class="paragraph">
<p>A scatterplot matrix shows a grid of scatterplots where each attribute is plotted against all other attributes. For example, try to create a scatterplot matrix of the first four features such as the one presented in the figure.
You can find further information on how to create and customise subplots with Plotly at <a href="https://plot.ly/python/subplots/" class="bare">https://plot.ly/python/subplots/</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight prettyprinted"><code class="language-python" data-lang="python"><span class="com"># Hints: You may want to use nested loops that iterate through the</span><span class="pln">
</span><span class="com"># rows and columns of the grid, and also import and make use of the</span><span class="pln">
</span><span class="com"># make_subplots() function from Plotly</span><span class="pln">

</span><span class="com">#### WRITE YOUR CODE HERE ####</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The syntax of loops in Python can be found at <a href="http://www.learnpython.org/en/Loops" class="bare">http://www.learnpython.org/en/Loops</a>.</p>
</div>
<div class="paragraph">
<p>An example of a scatterplot matrix using Plotly:</p>
</div>
<div id="mod2_scatterGrid" class="imageblock" style="text-align: center">
<div class="content">
<img src="./02-Mining and visualising real-world data_files/mod2_plotly_scatterGrid.png" alt="scatterGrid">
</div>
<div class="title">Figure 8. Scatter plot matrix where features are plotted against each other. The colour highlights whether the points are classified as returning or non-returning customers like in the previous plot. This kind of chart is handy when one needs to look at the relationships between multiple variables simultaneously.</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Further reading</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://numpy.scipy.org/" class="bare">http://numpy.scipy.org</a> - To find out more about numpy.</p>
</li>
<li>
<p><a href="http://scipy.org/Tentative_NumPy_Tutorial-" class="bare">http://scipy.org/Tentative_NumPy_Tutorial-</a> A NumPy tutorial.</p>
</li>
<li>
<p><a href="http://scipy.org/NumPy_for_Matlab_Users" class="bare">http://scipy.org/NumPy_for_Matlab_Users</a> - A Numpy guide for MATLAB users.</p>
</li>
<li>
<p><a href="http://scikit-learn.org/stable/tutorial/basic/tutorial.html#introduction" class="bare">http://scikit-learn.org/stable/tutorial/basic/tutorial.html#introduction</a> - Basic Machine Learning vocabulary used within scikit-learn.</p>
</li>
<li>
<p><a href="http://scikit-learn.org/stable/supervised_learning.html#supervised-learning" class="bare">http://scikit-learn.org/stable/supervised_learning.html#supervised-learning</a> - scikit-learn supervised learning page.</p>
</li>
<li>
<p><a href="https://plot.ly/python/" class="bare">https://plot.ly/python/</a> - Plotly Python Library</p>
</li>
<li>
<p><a href="https://plot.ly/python/offline/" class="bare">https://plot.ly/python/offline/</a> - Plotly Offline</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_wrap_up_of_module_2">Wrap up of Module 2</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>A <em>vector</em> can be represented by a NumPy array with one dimension.</p>
</li>
<li>
<p>A <em>matrix</em> can be represented by a NumPy array with two dimensions.</p>
</li>
<li>
<p>A NumPy array can only hold data of a single data type. If you try to change an element to a value of a different type, there will be an error, and an error message will be displayed.</p>
</li>
<li>
<p>NumPy arrays are indexed from 0.</p>
</li>
<li>
<p>The colon can be used in the array indices to specify a range of array elements, e.g. <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-14-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;X&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;:&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-40" role="math" style="width: 3.655em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.944em; height: 0px; font-size: 124%;"><span style="position: absolute; clip: rect(1.758em 1002.9em 2.849em -999.998em); top: -2.559em; left: 0.002em;"><span class="mrow" id="MathJax-Span-41"><span class="mi" id="MathJax-Span-42" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.05em;"></span></span><span class="mo" id="MathJax-Span-43" style="font-family: STIXGeneral-Regular;">[</span><span class="mn" id="MathJax-Span-44" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-45" style="font-family: STIXGeneral-Regular; padding-left: 0.334em;">:</span><span class="mn" id="MathJax-Span-46" style="font-family: STIXGeneral-Regular; padding-left: 0.334em;">3</span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.232em; border-left: 0px solid; width: 0px; height: 1.179em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>X</mi><mo stretchy="false">[</mo><mn>1</mn><mo>:</mo><mn>3</mn></math></span></span><script type="math/tex" id="MathJax-Element-14">X[1:3</script>]. This is known as <em>index slicing</em>. The index to the left of the colon (1) is included in the range, while the index to the right of the colon (3) is not included in the range.</p>
</li>
<li>
<p>Most scikit-learn functions expect data to be presented as NumPy arrays.</p>
</li>
<li>
<p>Plotting two features (dimensions) against each other is a good way of identifying features or feature combinations that might be useful in classification.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2016-11-25 06:32:37 GMT
</div>
</div>
<link rel="stylesheet" href="./02-Mining and visualising real-world data_files/prettify.min.css">
<script src="./02-Mining and visualising real-world data_files/prettify.min.js"></script>
<script>prettyPrint()</script>
<script type="text/x-mathjax-config;executed=true">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
});
</script>
<script src="./02-Mining and visualising real-world data_files/MathJax.js"></script>

<div style="position: absolute; width: 0px; height: 0px; overflow: hidden; padding: 0px; border: 0px; margin: 0px;"><div id="MathJax_Font_Test" style="position: absolute; visibility: hidden; top: 0px; left: 0px; width: auto; padding: 0px; border: 0px; margin: 0px; white-space: nowrap; text-align: left; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; font-size: 40px; font-weight: normal; font-style: normal; font-family: STIXSizeOneSym, sans-serif;"></div></div></body><div></div></html>